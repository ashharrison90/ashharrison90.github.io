<!DOCTYPE html><html><head><link rel="icon" type="image/svg" href="/favicon.svg"/><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Bye bye popups</title><meta name="description" content="I never liked them anyway. Here&#x27;s how Google ruined my day."/><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/css/b3e00d799e4f5ac15d77.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b3e00d799e4f5ac15d77.css" data-n-g=""/><link rel="preload" href="/_next/static/css/e44165d7b36c1ab67dd6.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e44165d7b36c1ab67dd6.css" data-n-p=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/webpack-f83ef63360c3f0b2c1b1.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework-d23658296916ce920464.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-cdc763525a8ea4696302.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-29d3e58673a211e0efcb.js" as="script"/><link rel="preload" href="/_next/static/chunks/29-8512c6f70c99d6b4b123.js" as="script"/><link rel="preload" href="/_next/static/chunks/602-68cb78c5e661a2dda8df.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/posts/%5Bslug%5D-381d37325ff121ea8b61.js" as="script"/></head><body><script>
      function getUserPreference() {
        if(window.localStorage.getItem('theme')) {
          return window.localStorage.getItem('theme')
        }
        return window.matchMedia('(prefers-color-scheme: dark)').matches
                  ? 'dark'
                  : 'light'
      }
      document.documentElement.dataset.theme = getUserPreference();
    </script><div id="__next"><div class="Layout_container__3yEil"><div class="Header_header__OkoDL"><nav><a class="PageLink_pageLink__1CQoi Header_pageLinks__3F3jI" href="/">Home</a><a class="PageLink_pageLink__1CQoi Header_pageLinks__3F3jI" href="/about">About</a><a class="PageLink_pageLink__1CQoi Header_pageLinks__3F3jI" href="/posts">Posts</a></nav></div><div class="Layout_parallaxContainer__1Kc_u"><div class="_slug__coverImage__1Q_Eu" style="background-image:url(/assets/blog/bye-bye-popups/popups-demo-page.png)"></div><div class="Layout_foreground__3M4Cd" style="background-color:rgba(var(--hero-background-rgb), 0)"><div style="height:50%" class="Layout_foregroundContentRef__3jGYa"><div class="_slug__padder__wvA8I"></div></div><div class="Layout_contentContainer__1_hXr"><div class="Layout_content__hISvs"><div class="_slug__titleContainer__26pMe"><h1 class="_slug__title__2B-ga">Bye bye popups</h1><div class="_slug__date__19t7Z">6/11/2021</div></div><div class="_slug__content__3iKGM"><p>In April, for about 5 hours, our custom popups completely disappeared.</p>
<h2>"At least the tests caught it"</h2>
<p>At the time, we used <a href="https://www.cypress.io/">Cypress</a> for our end-to-end tests. We have a test that runs locally that looks something like:</p>
<pre><code class="language-javascript">describe('sticky header and breadcrumbs', () => {
  beforeEach(() => {
    cy.visit('/#/popup-next')
    cy.get('.expression-editor-popup-next').eq(0).as('popup')
  })

  it('has sticky header when source is expanded (not scrolled yet)', () => {
    cy.get('@popup').within(() => {
      cy.get('.expression-editor-popup-next__entity--stuck').within(() => {
        cy.get('.expression-editor-popup-next__source-heading-title').should(
          'have.attr',
          'title',
          'Workday / Operation / Operation'
        )
        const titleParts = cy.get(
          '.expression-editor-popup-next__source-heading-title-part'
        )
        titleParts.should('have.length', 3)
        titleParts.eq(0).should('have.text', 'Workday')
        titleParts.eq(1).should('have.text', 'Operation')
        titleParts.eq(2).should('have.text', 'Operation')
      })
    })
  })
})
</code></pre>
<p>The actual behaviour being tested here isn't particularly important. The gist of it is that we're navigating to the popup demo page, finding the first popup and testing that the sticky header is displaying the correct information.</p>
<p>Our automated build runs and the test fails. One nice thing about Cypress is it can output videos or screenshots of your tests runs at the point of failure. So I go to the build system to take a look, and...</p>
<figure>
  <img src='/assets/blog/bye-bye-popups/missing-popups.png' alt="What happened to our popups?!"/>
  <figcaption>What happened to our popups?!</figcaption>
</figure>
<p>They're all gone! Ok. We can work with that. At least it makes sense why the test is failing. Now to recreate locally.</p>
<p>...and of course it passes.</p>
<p>At this point, we're not too concerned. Everyone that's worked in software knows these things happen every day. A package updates and breaks some of your behaviour. No big deal, that's what the tests are for. And until the tests are passing nothing will get pushed to production anyway.</p>
<p>Eventually (like 2 hours later) we track it down to a newer version of Chrome (90) being installed on the CI. Updating Chrome locally now shows the behaviour as well. Unfortunately, it's not just limited to tests or our demo environment. It's happening everywhere.</p>
<p>Including production.</p>
<h2>Some history</h2>
<p>The product I was working on at the time began life as an AngularJS application. This is a particularly common story for most products written 5 or 6 years ago. AngularJS was a well-established framework, and React's terms of use <a href="https://medium.com/bits-and-pixels/a-compelling-reason-not-to-use-reactjs-beac24402f7b">left a lot to be desired</a>.</p>
<p>Fast forward a couple of years and the growth of React, coupled with the impending <a href="https://blog.angular.io/stable-angularjs-and-long-term-support-7e077635ee9c">end of AngularJS's LTS</a>, meant a migration plan was needed. Enter <a href="https://www.npmjs.com/package/react2angular"><code>react2angular</code></a>. This allowed for a gradual transition of the components to React implementations.</p>
<p>The process looked something like:</p>
<ul>
<li>pick a component with no dependencies on other AngularJS components</li>
<li>create a new like-for-like React implementation</li>
<li>replace the definition of the AngularJS component with the new React implementation</li>
<li>move up the component tree and repeat</li>
</ul>
<p>Eventually, you reach the top of the component tree and can convert the whole application. In places that haven't been completely converted yet, there might be some code that looks like:</p>
<pre><code class="language-javascript">import Popup from '../react/popup/popup'
export default angular.module('uimapper')
  ...
  .component('popup', react2angular(Popup))
</code></pre>
<p>This shows the definition an AngularJS component, <code>popup</code>, using <code>react2angular</code> to alias that component to the newer React implementation.</p>
<p>So why does any of this matter?</p>
<h2>Naming conventions are important</h2>
<p>Well, for anyone that's unfamiliar with AngularJS, this will then be inserted into the DOM as <code>&#x3C;popup></code>.</p>
<p>Tucked away in the changes for Chrome 90 was <a href="https://chromium.googlesource.com/chromium/src/+/2024c426de3346666cb45f9c65ad9dec2246be99">this commit.</a> After some googling, it turns out <a href="https://www.chromestatus.com/feature/5463833265045504">Chrome is starting to implement a native <code>&#x3C;popup></code> element.</a> In doing so, they've added some new styles to the Chrome style sheet to handle the display of this element.</p>
<figure>
  <img src='/assets/blog/bye-bye-popups/popup-style.png' alt="The offending style."/>
  <figcaption>Some helpful new styles.</figcaption>
</figure>
<p>At this point, cogs are finally starting to turn. Remember our component from earlier? What did we call it?</p>
<blockquote>
<p><code>popup</code></p>
</blockquote>
<p>We're fucking idiots. A short rename later, and we're back in business:</p>
<figure>
  <img src='/assets/blog/bye-bye-popups/popups-demo-page.png' alt="What the demo page should look like."/>
  <figcaption>What the demo page should look like.</figcaption>
</figure>
<h2>Takeaways</h2>
<p>There's now a <a href="https://support.google.com/chrome/thread/106244569/chrome-90-hides-my-websites-popup-dialogs-interial-popup-open?hl=en">helpful support issue</a> discussing the problem, where it's pointed out that the <a href="https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name">HTML spec requires that custom elements include a <code>-</code>.</a> And, of course, they're right. Never create custom elements without including a <code>-</code> in the name!</p>
<p>That didn't make it any less annoying to figure out at the time.</p>
</div></div></div><div class="Footer_footer__3f33N"><div class="Footer_socialLinks__3jSsE"><a class="SocialLink_link__1sGkw Footer_socialLink__1P7SG" href="https://www.github.com/ashharrison90" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><a class="SocialLink_link__1sGkw Footer_socialLink__1P7SG" href="https://www.linkedin.com/in/ashharrison90" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a><a class="SocialLink_link__1sGkw Footer_socialLink__1P7SG" href="https://www.instagram.com/ashharrison90" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"></path></svg></a><a class="SocialLink_link__1sGkw Footer_socialLink__1P7SG" href="https://www.facebook.com/ashleyharrison90" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"></path></svg></a><a class="SocialLink_link__1sGkw Footer_socialLink__1P7SG" href="https://twitter.com/ashharrison90" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a><a class="SocialLink_link__1sGkw Footer_socialLink__1P7SG" href="mailto:ashharrison90@gmail.com" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"></path></svg></a></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"content":"\u003cp\u003eIn April, for about 5 hours, our custom popups completely disappeared.\u003c/p\u003e\n\u003ch2\u003e\"At least the tests caught it\"\u003c/h2\u003e\n\u003cp\u003eAt the time, we used \u003ca href=\"https://www.cypress.io/\"\u003eCypress\u003c/a\u003e for our end-to-end tests. We have a test that runs locally that looks something like:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003edescribe('sticky header and breadcrumbs', () =\u003e {\n  beforeEach(() =\u003e {\n    cy.visit('/#/popup-next')\n    cy.get('.expression-editor-popup-next').eq(0).as('popup')\n  })\n\n  it('has sticky header when source is expanded (not scrolled yet)', () =\u003e {\n    cy.get('@popup').within(() =\u003e {\n      cy.get('.expression-editor-popup-next__entity--stuck').within(() =\u003e {\n        cy.get('.expression-editor-popup-next__source-heading-title').should(\n          'have.attr',\n          'title',\n          'Workday / Operation / Operation'\n        )\n        const titleParts = cy.get(\n          '.expression-editor-popup-next__source-heading-title-part'\n        )\n        titleParts.should('have.length', 3)\n        titleParts.eq(0).should('have.text', 'Workday')\n        titleParts.eq(1).should('have.text', 'Operation')\n        titleParts.eq(2).should('have.text', 'Operation')\n      })\n    })\n  })\n})\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe actual behaviour being tested here isn't particularly important. The gist of it is that we're navigating to the popup demo page, finding the first popup and testing that the sticky header is displaying the correct information.\u003c/p\u003e\n\u003cp\u003eOur automated build runs and the test fails. One nice thing about Cypress is it can output videos or screenshots of your tests runs at the point of failure. So I go to the build system to take a look, and...\u003c/p\u003e\n\u003cfigure\u003e\n  \u003cimg src='/assets/blog/bye-bye-popups/missing-popups.png' alt=\"What happened to our popups?!\"/\u003e\n  \u003cfigcaption\u003eWhat happened to our popups?!\u003c/figcaption\u003e\n\u003c/figure\u003e\n\u003cp\u003eThey're all gone! Ok. We can work with that. At least it makes sense why the test is failing. Now to recreate locally.\u003c/p\u003e\n\u003cp\u003e...and of course it passes.\u003c/p\u003e\n\u003cp\u003eAt this point, we're not too concerned. Everyone that's worked in software knows these things happen every day. A package updates and breaks some of your behaviour. No big deal, that's what the tests are for. And until the tests are passing nothing will get pushed to production anyway.\u003c/p\u003e\n\u003cp\u003eEventually (like 2 hours later) we track it down to a newer version of Chrome (90) being installed on the CI. Updating Chrome locally now shows the behaviour as well. Unfortunately, it's not just limited to tests or our demo environment. It's happening everywhere.\u003c/p\u003e\n\u003cp\u003eIncluding production.\u003c/p\u003e\n\u003ch2\u003eSome history\u003c/h2\u003e\n\u003cp\u003eThe product I was working on at the time began life as an AngularJS application. This is a particularly common story for most products written 5 or 6 years ago. AngularJS was a well-established framework, and React's terms of use \u003ca href=\"https://medium.com/bits-and-pixels/a-compelling-reason-not-to-use-reactjs-beac24402f7b\"\u003eleft a lot to be desired\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eFast forward a couple of years and the growth of React, coupled with the impending \u003ca href=\"https://blog.angular.io/stable-angularjs-and-long-term-support-7e077635ee9c\"\u003eend of AngularJS's LTS\u003c/a\u003e, meant a migration plan was needed. Enter \u003ca href=\"https://www.npmjs.com/package/react2angular\"\u003e\u003ccode\u003ereact2angular\u003c/code\u003e\u003c/a\u003e. This allowed for a gradual transition of the components to React implementations.\u003c/p\u003e\n\u003cp\u003eThe process looked something like:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003epick a component with no dependencies on other AngularJS components\u003c/li\u003e\n\u003cli\u003ecreate a new like-for-like React implementation\u003c/li\u003e\n\u003cli\u003ereplace the definition of the AngularJS component with the new React implementation\u003c/li\u003e\n\u003cli\u003emove up the component tree and repeat\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eEventually, you reach the top of the component tree and can convert the whole application. In places that haven't been completely converted yet, there might be some code that looks like:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003eimport Popup from '../react/popup/popup'\nexport default angular.module('uimapper')\n  ...\n  .component('popup', react2angular(Popup))\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThis shows the definition an AngularJS component, \u003ccode\u003epopup\u003c/code\u003e, using \u003ccode\u003ereact2angular\u003c/code\u003e to alias that component to the newer React implementation.\u003c/p\u003e\n\u003cp\u003eSo why does any of this matter?\u003c/p\u003e\n\u003ch2\u003eNaming conventions are important\u003c/h2\u003e\n\u003cp\u003eWell, for anyone that's unfamiliar with AngularJS, this will then be inserted into the DOM as \u003ccode\u003e\u0026#x3C;popup\u003e\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eTucked away in the changes for Chrome 90 was \u003ca href=\"https://chromium.googlesource.com/chromium/src/+/2024c426de3346666cb45f9c65ad9dec2246be99\"\u003ethis commit.\u003c/a\u003e After some googling, it turns out \u003ca href=\"https://www.chromestatus.com/feature/5463833265045504\"\u003eChrome is starting to implement a native \u003ccode\u003e\u0026#x3C;popup\u003e\u003c/code\u003e element.\u003c/a\u003e In doing so, they've added some new styles to the Chrome style sheet to handle the display of this element.\u003c/p\u003e\n\u003cfigure\u003e\n  \u003cimg src='/assets/blog/bye-bye-popups/popup-style.png' alt=\"The offending style.\"/\u003e\n  \u003cfigcaption\u003eSome helpful new styles.\u003c/figcaption\u003e\n\u003c/figure\u003e\n\u003cp\u003eAt this point, cogs are finally starting to turn. Remember our component from earlier? What did we call it?\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003ccode\u003epopup\u003c/code\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eWe're fucking idiots. A short rename later, and we're back in business:\u003c/p\u003e\n\u003cfigure\u003e\n  \u003cimg src='/assets/blog/bye-bye-popups/popups-demo-page.png' alt=\"What the demo page should look like.\"/\u003e\n  \u003cfigcaption\u003eWhat the demo page should look like.\u003c/figcaption\u003e\n\u003c/figure\u003e\n\u003ch2\u003eTakeaways\u003c/h2\u003e\n\u003cp\u003eThere's now a \u003ca href=\"https://support.google.com/chrome/thread/106244569/chrome-90-hides-my-websites-popup-dialogs-interial-popup-open?hl=en\"\u003ehelpful support issue\u003c/a\u003e discussing the problem, where it's pointed out that the \u003ca href=\"https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name\"\u003eHTML spec requires that custom elements include a \u003ccode\u003e-\u003c/code\u003e.\u003c/a\u003e And, of course, they're right. Never create custom elements without including a \u003ccode\u003e-\u003c/code\u003e in the name!\u003c/p\u003e\n\u003cp\u003eThat didn't make it any less annoying to figure out at the time.\u003c/p\u003e\n","coverImage":"/assets/blog/bye-bye-popups/popups-demo-page.png","date":"2021-06-11T17:00:07.322Z","excerpt":"I never liked them anyway. Here's how Google ruined my day.","slug":"bye-bye-popups","title":"Bye bye popups"}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"bye-bye-popups"},"buildId":"lH4sNrHA8Nr-0mBGKJjS2","isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-eef578260fd80f8fff94.js"></script><script src="/_next/static/chunks/webpack-f83ef63360c3f0b2c1b1.js" async=""></script><script src="/_next/static/chunks/framework-d23658296916ce920464.js" async=""></script><script src="/_next/static/chunks/main-cdc763525a8ea4696302.js" async=""></script><script src="/_next/static/chunks/pages/_app-29d3e58673a211e0efcb.js" async=""></script><script src="/_next/static/chunks/29-8512c6f70c99d6b4b123.js" async=""></script><script src="/_next/static/chunks/602-68cb78c5e661a2dda8df.js" async=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-381d37325ff121ea8b61.js" async=""></script><script src="/_next/static/lH4sNrHA8Nr-0mBGKJjS2/_buildManifest.js" async=""></script><script src="/_next/static/lH4sNrHA8Nr-0mBGKJjS2/_ssgManifest.js" async=""></script></body></html>